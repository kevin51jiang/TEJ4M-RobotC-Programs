#pragma config(StandardModel, "SQUAREBOT")
#pragma config(RenamedStdModelMotor, port2, motRight)
#pragma config(RenamedStdModelMotor, port3, motLeft)
#pragma config(RenamedStdModelMotor, port6, motArm)
#pragma config(RenamedStdModelSensor, in3, pmeter)
#pragma config(RenamedStdModelSensor, in4, lightSensor)
#pragma config(RenamedStdModelSensor, in6, accelrZ)
#pragma config(RenamedStdModelSensor, in7, accelrY)
#pragma config(RenamedStdModelSensor, in8, accelrX)
#pragma config(RenamedStdModelSensor, dgtl1, encodeRight)
#pragma config(RenamedStdModelSensor, dgtl3, encodeLeft)
#pragma config(RenamedStdModelSensor, dgtl8, sonar)
//*!!Code automatically generated by 'ROBOTC' configuration wizard               !!*//

const int baseSpeed = 35;

void stopMoving(){

	startMotor(motLeft, 0);
	startMotor(motRight, 0);
	wait1Msec(250);
}


task getRidOfArm(){
	startMotor(motArm, -127);
	wait1Msec(1250);
	stopMotor(motArm);
}

task main()
{
	startTask(getRidOfArm);

	while(true){


		//keep turning until object is detected
		while(SensorValue[sonar] == -1){
			motor[motRight] = -1 * baseSpeed;
			motor[motLeft] = baseSpeed;
		}
		stopMoving();

		// move forward until the object 15cm

		while(SensorValue[sonar] > 4){
			motor[motRight] =  baseSpeed;
		  motor[motLeft] = baseSpeed;
		}
		stopMoving();
	}

}
