#pragma config(StandardModel, "SQUAREBOT")
#pragma config(RenamedStdModelMotor, port2, motRight)
#pragma config(RenamedStdModelMotor, port3, motLeft)
#pragma config(RenamedStdModelMotor, port6, motArm)
#pragma config(RenamedStdModelSensor, in3, pmeter)
#pragma config(RenamedStdModelSensor, in4, lightSensor)
#pragma config(RenamedStdModelSensor, in6, accelrZ)
#pragma config(RenamedStdModelSensor, in7, accelrY)
#pragma config(RenamedStdModelSensor, in8, accelrX)
//*!!Code automatically generated by 'ROBOTC' configuration wizard               !!*//

void whack(){
	startMotor(motArm, -127);
	wait1Msec(1500);
	startMotor(motArm, 127);
	wait1Msec(4000);
	startMotor(motArm, -127);
	wait1Msec(1500);
}

void stopMoving(){

	startMotor(motLeft, 0);
	startMotor(motRight, 0);
}


void turn(char direction){
	int modifier;

	if(direction == 'l'){ //turn left
		modifier = -1;
		} else { // turn right
		modifier = 1;
	}

	wait1Msec(1500); // make sure robot is stopped

	startMotor(motLeft, 64 * modifier);
	startMotor(motRight, 64 * -1 * modifier);
	wait1Msec(1250);
	stopMoving();
}

void jitter(tMotor mPrimary, tMotor mSecondary, int jitterTime){
		startMotor(mPrimary, 127);
		wait1Msec(jitterTime / 2);
		stopMotor(mPrimary);

		startMotor(mSecondary, 127);
		wait1Msec(jitterTime / 2);
		stopMotor(mSecondary);
}

/**
* jitterTime = time in ms for one half of a jitter cycle to happen (e.g. move from center to right and back to center)
* duration = how long the whole jitter move should be in ms
*/
void jitterMove(int jitterTime, int duration){
	int numJitter = duration / jitterTime;

	for(int i = 0; i < numJitter / 2; i++) {
		//jitter right
	whack();
		jitter(motLeft, motRight, jitterTime);
		//jitter left
	whack();

		jitter(motRight, motLeft, jitterTime);
		whack();
	}
}


task main()
{

	jitterMove(1000, 10000);
	turn('l');
	turn('l');
	jitterMove(1000, 10000);

}
